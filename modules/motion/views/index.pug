//- index.pug
extends ../../index.pug

mixin button(msg, enabled, label)
  button.button.motion-button&attributes({ 'data-emit': msg, 'data-enabled': enabled })= label

block content
  div#motion.motion.flex-wrapper

    #head.flex-block.flex-header
      #header-wrapper.flex-wrapper
        h1#headline.headline.flex-block.flex-left= title + ' Headline'

    #motion-container.motion-container.flex-block.flex-center
      h2 Motion
      h3= 'Status '
        span.status&attributes({ 'data-status': 'isRunning' }) unbekannt
      #button-container.button-container
        + button('startMotion', '!isRunning',  'start')
        + button('stopMotion', 'isRunning',  'stop')
        + button('isRunning', "{}",  'is running?')
      #stream&attributes({ 'data-enabled': 'isRunning' }) stream view

append footer
  script(src='/js/motion/event-handler.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js')
  script(src='/js/motion/index.js')
